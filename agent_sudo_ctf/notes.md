# Agent Sudo
## Enumerate

**How many open ports?**

1. Use NMap to scan the server

Scan Types: Nmap supports various scan types. The most common ones are:

-   TCP SYN Scan (-sS): This is the default scan type and is often used for fast scans. It sends SYN packets to each port and listens for SYN-ACK responses.
-   TCP Connect Scan (-sT): This is a slower but more reliable scan type. It attempts to establish a full TCP connection with each port to determine if it's open.
-   UDP Scan (-sU): Used to scan for open UDP ports. UDP scanning is less reliable than TCP scanning because UDP is connectionless.
-   Aggressive Scan (-A): This enables OS detection, version detection, script scanning, and traceroute.
    
    1. nmap -sS 10.10.99.205
       1. Reveals 3 open ports
          1. 21/tcp ftp
          2. 22/tcp ssh
          3. 80/tcp http

**How do you redirect yourself to a secret page?**

1. Assume port 80 is a webserver. Walk the page
2. Visit web server and check for items, very simple webpage. 
   1. Use your own codename as user-agent to access the site. - This is what the site says to access the page. 
   2. Page states that this message is from Agent R
      1. At this point the hints point to manipulating the **User Agent** of the web request
         1. Capture the request in Burp
         2. Send to Intruder
         3. Set up an attack using Sniper that cycles through the alphabet. Run the attack 
         4. A 302 response is seen when the **C** character is used as the **User-Agent**
            1. Checking the response you see `agent_C_attention.php`
            2. Navigate to `agent_C_attention.php` to view the page. 

**What is the agent name**

After navigating to `agent_C_attention.php` you see the agents name is **chris**