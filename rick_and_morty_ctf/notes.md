# Pickle Rick CTF

## Challenge Details
- **Name**: `Pickle Rick CTF`
- **Category**: `Web`
- **Description**: `Exploit web server and find three ingredients`

## Enumeration

- **Tools Used**: 
  - `autorecon`
  - `Tool 2`
- **Commands and Outputs**:
  ```
  sudo env "PATH=$PATH" autorecon 10.10.67.86 -vv
  ```

## Initial Analysis
- **Observations**: 
  - `Username: R1ckRul3s` 
  - `Password: Wubbalubbadubdub`

Discovered during autorecon scan:

- /scans/tcp80/tcp_80_http_nmap.txt
```
| http-comments-displayer: 
| Spidering limited to: maxdepth=3; maxpagecount=20; withinhost=10.10.67.86
|     
|     Path: http://10.10.67.86:80/
|     Line number: 28
|     Comment: 
|         <!--
|         
|             Note to self, remember username!
|         
|             Username: R1ckRul3s
|         
|           -->
```
- /scans/tcp80/tcp_80_http_curl-robots.txt
```
HTTP/1.1 200 OK
Date: Fri, 31 May 2024 03:47:51 GMT
Server: Apache/2.4.41 (Ubuntu)
Last-Modified: Sun, 10 Feb 2019 16:37:33 GMT
ETag: "11-5818ccf15f066"
Accept-Ranges: bytes
Content-Length: 17
Content-Type: text/plain

Wubbalubbadubdub
```

```
bin
boot
dev
etc
home
initrd.img
initrd.img.old
lib
lib64
lost+found
media
mnt
opt
proc
root
run
sbin
snap
srv
sys
tmp
usr
var
vmlinuz
vmlinuz.old
```
- **Wappalyzer**
1. Apache 2.4.41
2. PHP
3. JQuery 3.3.1
4. Bootstrap 3.4.0

## Exploitation
- **Exploitation Steps**:
  1. Log in using discovered username and password
  2. What looks like an admin area is shown
![alt text](image.png)
  1. Tried the ls command, ls is blocked by the website
     1. See a file called `Sup3rS3cretPickl3Ingred.txt` 
![alt text](image-1.png)
  2. Try other commands. `less` allows us to view the file
     1. Flag = `mr. meeseek hair`
![alt text](image-2.png)
  3. `pwd` shows /var/www/html
  4. Try exploring the filesystem. `ls /home/rick` shows a file called `second ingredients`
     1. `less /home/rick/second ingredients` does not work
     2. Try `sudo less "/home/rick/second ingredients"`
        1. Flag = `1 jerry tear`
  5. Continue exploring the filesystem
     1. `sudo ls -la /root`
     2. Found file called 3rd.txt
     3. `sudo less /root/3rd.txt`
        1. Flag = fleeb juice


## Summary and Reflection
- **What Worked**:
  - Explore Filesystem
  - Testing a variety of commands
- **Lessons Learned**:
  - Do not overthink some of these challenges. 
  - In the command execution area try multiple commands. I initially only tried `1s` and immediately left the section to try to "exploit" in some way. Trying multiple commands to read files in linux would have lead to the discovery of the proper command. 
  - Run commands as sudo. When looking for the third ingredient the file was hidden and only viewable when running as root


